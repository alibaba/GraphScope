<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Session &mdash; GraphScope  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="graphscope.session" href="generated/graphscope.session.html" />
    <link rel="prev" title="Python API Reference" href="python_index.html" />

 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4TMYCGJ0X2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4TMYCGJ0X2');
</script>

<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?da649ade2298891886e31922dfc8870f";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> GraphScope
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div>
  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      
      
        
          
        
      
      
        <p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loading_graph.html">Loading Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_transformation.html">Graph Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analytics_engine.html">GraphScope Analytical Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interactive_engine.html">GraphScope Interactive Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_engine.html">GraphScope Learning Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../persistent_graph_store.html">Persistent Graph Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frequently_asked_questions.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide.html">Developer Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="python_index.html">Python API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Session</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#session-object">Session object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#session-functions">Session Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/graphscope.session.html">graphscope.session</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/graphscope.get_default_session.html">graphscope.get_default_session</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/graphscope.has_default_session.html">graphscope.has_default_session</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/graphscope.set_option.html">graphscope.set_option</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/graphscope.get_option.html">graphscope.get_option</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/graphscope.g.html">graphscope.g</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/graphscope.gremlin.html">graphscope.gremlin</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/graphscope.graphlearn.html">graphscope.graphlearn</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="graph.html">Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html">Analytical App</a></li>
<li class="toctree-l2"><a class="reference internal" href="context.html">Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="selector.html">Selector</a></li>
<li class="toctree-l2"><a class="reference internal" href="operation.html">Operation</a></li>
<li class="toctree-l2"><a class="reference internal" href="cython_sdk.html">Cython SDK API</a></li>
<li class="toctree-l2"><a class="reference internal" href="interactive.html">Interactive Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="learning.html">Graph Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="networkx/index.html">NetworkX-style API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analytical_engine_index.html">Analytical Engine API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="gae_java/index.html">Analytical Engine Java API Reference</a></li>
</ul>

      
    
  </div>

      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GraphScope</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="python_index.html">Python API Reference</a> &raquo;</li>
      <li>Session</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/alibaba/graphscope/edit/main/docs/reference/session.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="session">
<span id="id1"></span><h1>Session<a class="headerlink" href="#session" title="Permalink to this headline"></a></h1>
<div class="section" id="session-object">
<h2>Session object<a class="headerlink" href="#session-object" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="graphscope.Session">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">graphscope.</span></span><span class="sig-name descname"><span class="pre">Session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'eager'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k8s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preemptive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_service_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NodePort'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_gs_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'registry.cn-hongkong.aliyuncs.com/graphscope/graphscope:0.16.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_etcd_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quay.io/coreos/etcd:v3.4.13'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_dataset_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'registry.cn-hongkong.aliyuncs.com/graphscope/dataset:0.16.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_image_pull_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IfNotPresent'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_image_pull_secrets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_coordinator_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_coordinator_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2Gi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etcd_addrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etcd_listening_client_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2379</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etcd_listening_peer_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2380</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_etcd_num_pods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_etcd_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_etcd_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'512Mi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_vineyard_daemonset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'none'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_vineyard_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_vineyard_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'512Mi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vineyard_shared_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'4Gi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_engine_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_engine_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1Gi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_mars_worker_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_mars_worker_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'4Mi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_mars_scheduler_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_mars_scheduler_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2Mi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_volumes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_waiting_for_delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dangling_timeout_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_mars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mount_dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconnect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session" title="Permalink to this definition"></a></dt>
<dd><p>A class for interacting with GraphScope graph computation service cluster.</p>
<p>A <a class="reference internal" href="#graphscope.Session" title="graphscope.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> object encapsulates the environment in which <code class="xref py py-class docutils literal notranslate"><span class="pre">Operation</span></code>
objects are executed/evaluated.</p>
<p>A session may own resources. It is important to release these resources when
they are no longer required. To do this, invoke the <a class="reference internal" href="#graphscope.Session.close" title="graphscope.Session.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> method
on the session.</p>
<p>A Session can register itself as default session with <a class="reference internal" href="#graphscope.Session.as_default" title="graphscope.Session.as_default"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_default()</span></code></a>, and all operations
after that will use the default session. Session deregister itself as a default session
when closed.</p>
<p>The following example demonstrates its usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">graphscope</span> <span class="k">as</span> <span class="nn">gs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># use session object explicitly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span> <span class="o">=</span> <span class="n">gs</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">g</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pg</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">vertices</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;v&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="n">edges</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dist&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">gs</span><span class="o">.</span><span class="n">sssp</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># or use a session as default</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span> <span class="o">=</span> <span class="n">gs</span><span class="o">.</span><span class="n">session</span><span class="p">()</span><span class="o">.</span><span class="n">as_default</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">gs</span><span class="o">.</span><span class="n">g</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pg</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">vertices</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;v&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="n">edges</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dist&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">gs</span><span class="o">.</span><span class="n">sssp</span><span class="p">(</span><span class="n">pg</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sess</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>We support setup a service cluster and create a RPC session in following ways:</p>
<ul>
<li><p>GraphScope graph computation service run in cluster managed by kubernetes.</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">graphscope</span><span class="o">.</span><span class="n">session</span><span class="p">()</span>
</pre></div>
</div>
<p>Also, <a class="reference internal" href="#graphscope.Session" title="graphscope.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a> provides several keyword params for users to define the cluster.
You may use the param <code class="code docutils literal notranslate"><span class="pre">k8s_gs_image</span></code> to specify the image for all engine pod, and
param <code class="code docutils literal notranslate"><span class="pre">k8s_engine_cpu</span></code> or <code class="code docutils literal notranslate"><span class="pre">k8s_engine_mem</span></code> to specify the resources. More,
you can find all params detail in <a class="reference internal" href="#graphscope.Session.__init__" title="graphscope.Session.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a> method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">graphscope</span><span class="o">.</span><span class="n">session</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">k8s_gs_image</span><span class="o">=</span><span class="s2">&quot;registry.cn-hongkong.aliyuncs.com/graphscope/graphscope:latest&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">k8s_vineyard_cpu</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">k8s_vineyard_mem</span><span class="o">=</span><span class="s2">&quot;256Mi&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">vineyard_shared_mem</span><span class="o">=</span><span class="s2">&quot;4Gi&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">k8s_engine_cpu</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">k8s_engine_mem</span><span class="o">=</span><span class="s2">&quot;256Mi&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>or all params can be provided by a json configuration file or configuration dict.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">graphscope</span><span class="o">.</span><span class="n">session</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="s1">&#39;/tmp/config.json&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Or</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">graphscope</span><span class="o">.</span><span class="n">session</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k8s_engine_cpu&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;k8s_engine_mem&#39;</span><span class="p">:</span> <span class="s1">&#39;5Gi&#39;</span><span class="p">})</span>
</pre></div>
</div>
</li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.__enter__">
<span class="sig-name descname"><span class="pre">__enter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.__enter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.__enter__" title="Permalink to this definition"></a></dt>
<dd><p>Context management protocol.
Returns self and register self as default session.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.__exit__">
<span class="sig-name descname"><span class="pre">__exit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_tb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.__exit__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.__exit__" title="Permalink to this definition"></a></dt>
<dd><p>Deregister self from the default session,
close the session and release the resources, ignore all exceptions in close().</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'eager'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k8s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preemptive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_namespace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_service_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NodePort'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_gs_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'registry.cn-hongkong.aliyuncs.com/graphscope/graphscope:0.16.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_etcd_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'quay.io/coreos/etcd:v3.4.13'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_dataset_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'registry.cn-hongkong.aliyuncs.com/graphscope/dataset:0.16.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_image_pull_policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IfNotPresent'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_image_pull_secrets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_coordinator_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_coordinator_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2Gi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etcd_addrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etcd_listening_client_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2379</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">etcd_listening_peer_port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2380</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_etcd_num_pods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_etcd_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_etcd_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'512Mi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_vineyard_daemonset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'none'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_vineyard_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_vineyard_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'512Mi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vineyard_shared_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'4Gi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_engine_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_engine_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1Gi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_mars_worker_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_mars_worker_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'4Mi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_mars_scheduler_cpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_mars_scheduler_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'2Mi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_volumes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k8s_waiting_for_delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dangling_timeout_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_mars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mount_dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reconnect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Construct a new GraphScope session.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – The configuration dict or file about how to launch the GraphScope instance.
For str, it will identify it as a path and read the configuration file to build a
session if file exist. If not specified, the global default configuration
<code class="code docutils literal notranslate"><span class="pre">DEFAULT_CONFIG_FILE</span></code> will be used, which get value of GS_CONFIG_PATH
in environment. Note that it will overwrite explicit parameters. Defaults to None.</p></li>
<li><p><strong>addr</strong> (<em>str</em><em>, </em><em>optional</em>) – The endpoint of a pre-launched GraphScope instance with ‘&lt;ip&gt;:&lt;port&gt;’ format.
A new session id will be generated for each session connection.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>optional values are eager and lazy. Defaults to eager.
Eager execution is a flexible platform for research and experimentation, it provides:</p>
<blockquote>
<div><p>An intuitive interface: Quickly test on small data.
Easier debugging: Call ops directly to inspect running models and test changes.</p>
</div></blockquote>
<dl class="simple">
<dt>Lazy execution means GraphScope does not process the data till it has to. It just gathers all the</dt><dd><p>information to a DAG that we feed into it, and processes only when we execute <code class="code docutils literal notranslate"><span class="pre">sess.run(fetches)</span></code></p>
</dd>
</dl>
</p></li>
<li><p><strong>cluster_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Deploy GraphScope instance on hosts or k8s cluster. Defaults to k8s.
Available options: “k8s” and “hosts”. Note that only support deployed on localhost with hosts mode.</p></li>
<li><p><strong>num_workers</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of workers to launch GraphScope engine. Defaults to 2.</p></li>
<li><p><strong>preemptive</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, GraphScope instance will treat resource params (e.g. k8s_coordinator_cpu)
as limits and provide the minimum available value as requests, but this will make pod has a <cite>Burstable</cite> QOS,
which can be preempted by other pods with high QOS. Otherwise, it will set both requests and limits with the
same value.</p></li>
<li><p><strong>k8s_namespace</strong> (<em>str</em><em>, </em><em>optional</em>) – Contains the namespace to create all resource inside.
If param missing, it will try to read namespace from kubernetes context, or
a random namespace will be created and deleted if namespace not exist.
Defaults to None.</p></li>
<li><p><strong>k8s_service_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Type determines how the GraphScope service is exposed.
Valid options are NodePort, and LoadBalancer. Defaults to NodePort.</p></li>
<li><p><strong>k8s_gs_image</strong> (<em>str</em><em>, </em><em>optional</em>) – The GraphScope engine’s image.</p></li>
<li><p><strong>k8s_etcd_image</strong> (<em>str</em><em>, </em><em>optional</em>) – The image of etcd, which used by vineyard.</p></li>
<li><p><strong>k8s_dataset_image</strong> (<em>str</em><em>, </em><em>optional</em>) – The image which mounts aliyun dataset bucket to local path.</p></li>
<li><p><strong>k8s_image_pull_policy</strong> (<em>str</em><em>, </em><em>optional</em>) – Kubernetes image pull policy. Defaults to “IfNotPresent”.</p></li>
<li><p><strong>k8s_image_pull_secrets</strong> (<em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – A list of secret name used to authorize pull image.</p></li>
<li><p><strong>k8s_vineyard_daemonset</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of vineyard Helm deployment to use. GraphScope will try to
discovery the daemonset from kubernetes cluster, then use it if exists, and fallback to launching
a bundled vineyard container otherwise.</p></li>
<li><p><strong>k8s_vineyard_cpu</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum number of CPU cores request for vineyard container. Defaults to 0.5.</p></li>
<li><p><strong>k8s_vineyard_mem</strong> (<em>str</em><em>, </em><em>optional</em>) – Minimum number of memory request for vineyard container. Defaults to ‘512Mi’.</p></li>
<li><p><strong>vineyard_shared_mem</strong> (<em>str</em><em>, </em><em>optional</em>) – Init size of vineyard shared memory. Defaults to ‘4Gi’.</p></li>
<li><p><strong>k8s_engine_cpu</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum number of CPU cores request for engine container. Defaults to 0.5.</p></li>
<li><p><strong>k8s_engine_mem</strong> (<em>str</em><em>, </em><em>optional</em>) – Minimum number of memory request for engine container. Defaults to ‘4Gi’.</p></li>
<li><p><strong>k8s_coordinator_cpu</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum number of CPU cores request for coordinator pod. Defaults to 1.0.</p></li>
<li><p><strong>k8s_coordinator_mem</strong> (<em>str</em><em>, </em><em>optional</em>) – Minimum number of memory request for coordinator pod. Defaults to ‘4Gi’.</p></li>
<li><p><strong>etcd_addrs</strong> (<em>str</em><em>, </em><em>optional</em>) – The addr of external etcd cluster,
with formats like ‘etcd01:port,etcd02:port,etcd03:port’</p></li>
<li><p><strong>k8s_etcd_num_pods</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of etcd pods. Defaults to 3.</p></li>
<li><p><strong>k8s_etcd_cpu</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum number of CPU cores request for etcd pod. Defaults to 0.5.</p></li>
<li><p><strong>k8s_etcd_mem</strong> (<em>str</em><em>, </em><em>optional</em>) – Minimum number of memory request for etcd pod. Defaults to ‘128Mi’.</p></li>
<li><p><strong>k8s_mars_worker_cpu</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum number of CPU cores request for mars worker container. Defaults to 0.5.</p></li>
<li><p><strong>k8s_mars_worker_mem</strong> (<em>str</em><em>, </em><em>optional</em>) – Minimum number of memory request for mars worker container. Defaults to ‘4Gi’.</p></li>
<li><p><strong>k8s_mars_scheduler_cpu</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum number of CPU cores request for mars scheduler container. Defaults to 0.5.</p></li>
<li><p><strong>k8s_mars_scheduler_mem</strong> (<em>str</em><em>, </em><em>optional</em>) – Minimum number of memory request for mars scheduler container. Defaults to ‘2Gi’.</p></li>
<li><p><strong>with_mars</strong> (<em>bool</em><em>, </em><em>optional</em>) – Launch graphscope with mars. Defaults to False.</p></li>
<li><p><strong>mount_dataset</strong> (<em>str</em><em>, </em><em>optional</em>) – Create a container and mount aliyun demo dataset bucket to the path specified by <cite>mount_dataset</cite>.</p></li>
<li><p><strong>k8s_volumes</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>A dict of k8s volume which represents a directory containing data, accessible to the
containers in a pod. Defaults to {}.</p>
<p>For example, you can mount host path with:</p>
<dl>
<dt>k8s_volumes = {</dt><dd><dl>
<dt>“my-data”: {</dt><dd><p>“type”: “hostPath”,
“field”: {</p>
<blockquote>
<div><p>”path”: “&lt;path&gt;”,
“type”: “Directory”</p>
</div></blockquote>
<p>},
“mounts”: [</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“mountPath”: “&lt;path1&gt;”</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>”mountPath”: “&lt;path2&gt;”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
<p>Or you can mount PVC with:</p>
<dl>
<dt>k8s_volumes = {</dt><dd><dl>
<dt>“my-data”: {</dt><dd><p>“type”: “persistentVolumeClaim”,
“field”: {</p>
<blockquote>
<div><p>”claimName”: “your-pvc-name”</p>
</div></blockquote>
<p>},
“mounts”: [</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“mountPath”: “&lt;path1&gt;”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
<p>Also, you can mount a single volume with:</p>
<dl>
<dt>k8s_volumes = {</dt><dd><dl>
<dt>“my-data”: {</dt><dd><p>“type”: “hostPath”,
“field”: {xxx},
“mounts”: {</p>
<blockquote>
<div><p>”mountPath”: “&lt;path1&gt;”</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</p></li>
<li><p><strong>timeout_seconds</strong> (<em>int</em><em>, </em><em>optional</em>) – For waiting service ready (or waiting for delete if
k8s_waiting_for_delete is True).</p></li>
<li><p><strong>dangling_timeout_seconds</strong> (<em>int</em><em>, </em><em>optional</em>) – After seconds of client disconnect,
coordinator will kill this graphscope instance. Defaults to 600.
Expect this value to be greater than 5 (heartbeat interval).
Disable dangling check by setting -1.</p></li>
<li><p><strong>k8s_waiting_for_delete</strong> (<em>bool</em><em>, </em><em>optional</em>) – Waiting for service delete or not. Defaults to False.</p></li>
<li><p><strong>**kw</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Other optional parameters will be put to <code class="code docutils literal notranslate"><span class="pre">**kw</span></code>.
- k8s_minikube_vm_driver: Deprecated.</p>
<ul>
<li><dl>
<dt>k8s_client_config (dict, optional):</dt><dd><p>Provide configurable parameters for connecting to remote k8s,
which strongly relies on the <cite>kube_config.load_kube_config</cite> function.
eg: {</p>
<blockquote>
<div><p>”config_file”: “~/.kube/config”,
“context”: None,
“client_configuration”: None,
“persist_config”: True</p>
</div></blockquote>
<p>}
config_file: Name of the kube-config file.
context: set the active context. If is set to None, current_context from config file will be used.
client_configuration: The kubernetes.client.Configuration to set configs to.
persist_config: If True, config file will be updated when changed(e.g GCP token refresh).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>log_level: Deprecated.</dt><dd><p>Move this param as a global configuration. Set via <cite>graphscope.set_option(log_level=’DEBUG’)</cite></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>show_log: Deprecated.</dt><dd><p>Move this param as a global configuration.Set via <cite>graphscope.set_option(show_log=True)</cite></p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>reconnect</strong> (<em>bool</em><em>, </em><em>optional</em>) – <p>When connecting to a pre-launched GraphScope cluster with <code class="code docutils literal notranslate"><span class="pre">addr</span></code>,
the connect request would be rejected with there is still an existing session connected. There
are cases where the session still exists and user’s client has lost connection with the backend,
e.g., in a jupyter notebook. We have a <code class="code docutils literal notranslate"><span class="pre">dangling_timeout_seconds</span></code> for it, but a more
deterministic behavior would be better.</p>
<p>If <code class="code docutils literal notranslate"><span class="pre">reconnect</span></code> is True, the existing session will be reused. It is the user’s responsibility
to ensure there’s no such an active client actually.</p>
<p>Defaults to <code class="code docutils literal notranslate"><span class="pre">False</span></code>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the given argument combination is invalid and cannot be used to create
    a GraphScope session.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.add_lib">
<span class="sig-name descname"><span class="pre">add_lib</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.add_lib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.add_lib" title="Permalink to this definition"></a></dt>
<dd><p>add the specified resource to the k8s cluster from client machine.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.as_default">
<span class="sig-name descname"><span class="pre">as_default</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.as_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.as_default" title="Permalink to this definition"></a></dt>
<dd><p>Obtain a context manager that make this object as default session.</p>
<p>This method is used when a Session is constructed, which will immediately
install self as a default session.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If default session exist in current context.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A context manager using this session as the default session.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.close" title="Permalink to this definition"></a></dt>
<dd><p>Closes this session.</p>
<p>This method frees all resources associated with the session.</p>
<p>Note that closing will ignore SIGINT and SIGTERM signal and recover later.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.connected">
<span class="sig-name descname"><span class="pre">connected</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.connected"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.connected" title="Permalink to this definition"></a></dt>
<dd><p>Check if the session is still connected and available.</p>
<p>Returns: True or False</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="graphscope.Session.engine_config">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">engine_config</span></span><a class="headerlink" href="#graphscope.Session.engine_config" title="Permalink to this definition"></a></dt>
<dd><p>Show the engine configration associated with session in json format.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.get_config">
<span class="sig-name descname"><span class="pre">get_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.get_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.get_config" title="Permalink to this definition"></a></dt>
<dd><p>Get configuration of the session.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.graphlearn">
<span class="sig-name descname"><span class="pre">graphlearn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.graphlearn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.graphlearn" title="Permalink to this definition"></a></dt>
<dd><p>Start a graph learning engine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="graph.html#graphscope.framework.graph.GraphDAGNode" title="graphscope.framework.graph.GraphDAGNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">graphscope.framework.graph.GraphDAGNode</span></code></a>) – The graph to create learning instance.</p></li>
<li><p><strong>nodes</strong> (<em>list</em><em>, </em><em>optional</em>) – list of node types that will be used for GNN
training, the element of list can be <cite>“node_label”</cite> or
<cite>(node_label, features)</cite>. If the element of the list is a tuple and
contains selected feature list, it would use the selected
feature list for training. Default is None which use all type of
nodes and for the GNN training.</p></li>
<li><p><strong>edges</strong> (<em>list</em><em>, </em><em>optional</em>) – list of edge types that will be used for GNN
training. We use <cite>(src_label, edge_label, dst_label)</cite>
to specify one edge type. Default is None which use all type of
edges for GNN training.</p></li>
<li><p><strong>gen_labels</strong> (<em>list</em><em>, </em><em>optional</em>) – Alias node and edge labels and extract
train/validation/test dataset from original graph for supervised
GNN training. The detail is explained in the examples below.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume the input graph contains one label node `paper` and one edge label `link`.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="c1"># use properties &quot;weight&quot; and &quot;name&quot; as features</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lg</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">graphlearn</span><span class="p">(</span>
<span class="go">        graph,</span>
<span class="go">        nodes=[(&quot;paper&quot;, features)])  # use &quot;paper&quot; node and features for training</span>
<span class="go">        edges=[(&quot;paper&quot;, &quot;links&quot;, &quot;paper&quot;)]  # use the `paper-&gt;links-&gt;papers` edge type for training</span>
<span class="go">        gen_labels=[</span>
<span class="go">            # split &quot;paper&quot; nodes into 100 pieces, and uses random 75 pieces (75%) as training dataset</span>
<span class="go">            (&quot;train&quot;, &quot;paper&quot;, 100, (0, 75)),</span>
<span class="go">            # split &quot;paper&quot; nodes into 100 pieces, and uses random 10 pieces (10%) as validation dataset</span>
<span class="go">            (&quot;val&quot;, &quot;paper&quot;, 100, (75, 85)),</span>
<span class="go">            # split &quot;paper&quot; nodes into 100 pieces, and uses random 15 pieces (15%) as test dataset</span>
<span class="go">            (&quot;test&quot;, &quot;paper&quot;, 100, (85, 100)),</span>
<span class="go">        ]</span>
<span class="go">    )</span>
<span class="go">Note that the training, validation and test datasets are not overlapping. And for unsupervised learning:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lg</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">graphlearn</span><span class="p">(</span>
<span class="go">        graph,</span>
<span class="go">        nodes=[(&quot;paper&quot;, features)])  # use &quot;paper&quot; node and features for training</span>
<span class="go">        edges=[(&quot;paper&quot;, &quot;links&quot;, &quot;paper&quot;)]  # use the `paper-&gt;links-&gt;papers` edge type for training</span>
<span class="go">        gen_labels=[</span>
<span class="go">            # split &quot;paper&quot; nodes into 100 pieces, and uses all pieces as training dataset</span>
<span class="go">            (&quot;train&quot;, &quot;paper&quot;, 100, (0, 100)),</span>
<span class="go">        ]</span>
<span class="go">    )</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.gremlin">
<span class="sig-name descname"><span class="pre">gremlin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.gremlin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.gremlin" title="Permalink to this definition"></a></dt>
<dd><p>Get a interactive engine handler to execute gremlin queries.</p>
<p>It will return a instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">graphscope.interactive.query.InteractiveQueryDAGNode</span></code>,
that will be evaluated by <a href="#id2"><span class="problematic" id="id3">:method:`sess.run`</span></a> in eager mode.</p>
<p>Note that this method will be executed implicitly in eager mode when a property graph created
and cache a instance of InteractiveQuery in session if <cite>initializing_interactive_engine</cite> is True.
If you want to create a new instance under the same graph by different params, you should close
the instance first.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># close and recreate InteractiveQuery in eager mode.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interactive_query</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">gremlin</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interactive_query</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">interactive_query</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">gremlin</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">engine_params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;xxx&quot;</span><span class="p">:</span><span class="s2">&quot;xxx&quot;</span><span class="p">})</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="graph.html#graphscope.framework.graph.GraphDAGNode" title="graphscope.framework.graph.GraphDAGNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">graphscope.framework.graph.GraphDAGNode</span></code></a>) – The graph to create interactive instance.</p></li>
<li><p><strong>engine_params</strong> (<em>dict</em><em>, </em><em>optional</em>) – Configure startup parameters of interactive engine.
You can also configure this param by <cite>graphscope.set_option(engine_params={})</cite>.
See a list of configurable keys in
<cite>interactive_engine/deploy/docker/dockerfile/executor.vineyard.properties</cite></p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>InvalidArgumentError</strong> – <ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">graph</span></code> is not a property graph.
    - <code class="code docutils literal notranslate"><span class="pre">graph</span></code> is unloaded in eager mode.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>InteractiveQuery to execute gremlin queries, evaluated in eager mode.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">graphscope.interactive.query.InteractiveQueryDAGNode</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="graphscope.Session.info">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#graphscope.Session.info" title="Permalink to this definition"></a></dt>
<dd><p>Show all resources info associated with session in json format.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.learning">
<span class="sig-name descname"><span class="pre">learning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.learning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.learning" title="Permalink to this definition"></a></dt>
<dd><p>Start a graph learning engine.</p>
<p>Note that this method has been deprecated, using <cite>graphlearn</cite> replace.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.load_from">
<span class="sig-name descname"><span class="pre">load_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.load_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.load_from" title="Permalink to this definition"></a></dt>
<dd><p>Load a graph within the session.
See more information in <code class="xref py py-meth docutils literal notranslate"><span class="pre">graphscope.load_from()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="graphscope.Session.run_fetches">
<span class="sig-name descname"><span class="pre">run_fetches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fetches</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/graphscope/client/session.html#Session.run_fetches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#graphscope.Session.run_fetches" title="Permalink to this definition"></a></dt>
<dd><p>Run operations of <cite>fetches</cite> without the session lock.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="session-functions">
<h2>Session Functions<a class="headerlink" href="#session-functions" title="Permalink to this headline"></a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/graphscope.session.html#graphscope.session" title="graphscope.session"><code class="xref py py-obj docutils literal notranslate"><span class="pre">graphscope.session</span></code></a></p></td>
<td><p>alias of <a class="reference internal" href="#graphscope.Session" title="graphscope.client.session.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">graphscope.client.session.Session</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/graphscope.get_default_session.html#graphscope.get_default_session" title="graphscope.get_default_session"><code class="xref py py-obj docutils literal notranslate"><span class="pre">graphscope.get_default_session</span></code></a>()</p></td>
<td><p>Returns the default session for the current context.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/graphscope.has_default_session.html#graphscope.has_default_session" title="graphscope.has_default_session"><code class="xref py py-obj docutils literal notranslate"><span class="pre">graphscope.has_default_session</span></code></a>()</p></td>
<td><p>True if default session exists in current context.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/graphscope.set_option.html#graphscope.set_option" title="graphscope.set_option"><code class="xref py py-obj docutils literal notranslate"><span class="pre">graphscope.set_option</span></code></a>(**kwargs)</p></td>
<td><p>Set the value of specified options.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/graphscope.get_option.html#graphscope.get_option" title="graphscope.get_option"><code class="xref py py-obj docutils literal notranslate"><span class="pre">graphscope.get_option</span></code></a>(key)</p></td>
<td><p>Get the value of specified option.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/graphscope.g.html#graphscope.g" title="graphscope.g"><code class="xref py py-obj docutils literal notranslate"><span class="pre">graphscope.g</span></code></a>([incoming_data, oid_type, …])</p></td>
<td><p>Construct a GraphScope graph object on the default session.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/graphscope.gremlin.html#graphscope.gremlin" title="graphscope.gremlin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">graphscope.gremlin</span></code></a>(graph[, engine_params])</p></td>
<td><p>Create a interactive engine and get the handler to execute the gremlin queries.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/graphscope.graphlearn.html#graphscope.graphlearn" title="graphscope.graphlearn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">graphscope.graphlearn</span></code></a>(graph[, nodes, edges, …])</p></td>
<td><p>Create a graph learning engine.</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="python_index.html" class="btn btn-neutral float-left" title="Python API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="generated/graphscope.session.html" class="btn btn-neutral float-right" title="graphscope.session" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2023, DAMO Academy, Alibaba Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          

            
              
                <dd><a href="../../latest/index.html">latest</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../index.html">stable</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.16.0/index.html">v0.16.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.15.0/index.html">v0.15.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.14.0/index.html">v0.14.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.13.0/index.html">v0.13.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.12.0/index.html">v0.12.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.11.0/index.html">v0.11.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.10.1/index.html">v0.10.1</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.10.0/index.html">v0.10.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.9.1/index.html">v0.9.1</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.9.0/index.html">v0.9.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.8.0/index.html">v0.8.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.7.0/index.html">v0.7.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.6.1/index.html">v0.6.1</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.6.0/index.html">v0.6.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.5.0/index.html">v0.5.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.4.1/index.html">v0.4.1</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.4.0/index.html">v0.4.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.3.0/index.html">v0.3.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.2.1/index.html">v0.2.1</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.2.0/index.html">v0.2.0</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.1.3/index.html">v0.1.3</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.1.2/index.html">v0.1.2</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.1.1/index.html">v0.1.1</a></dd>
              
            

          
        
          

            
              
                <dd><a href="../../v0.1.0/index.html">v0.1.0</a></dd>
              
            

          
        
      </dl>
    </div>
  </div>

  <div class="rst-languages shift-up" role="note" aria-label="languages">
    <div class="rst-other-languages">
      <dl>
        <dt>Languages</dt>
        <dd><a href="../index.html">en</a></dd>
        <dd><a href="../zh/index.html">zh_CN</a></dd>
      </dl>

      <hr />
      <small>
        <span>Hosted by <a href="https://pages.github.com/">Github Pages</a>.</span>
      </small>
    </div>
  </div>


</body>
</html>