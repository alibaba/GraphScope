{%- extends "!base.html" %}

{#

This template exists as a way to implement a language menu just as what
"Read The Docs" does.

#}

{%- block extrahead %}

{{ super() }}

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4TMYCGJ0X2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4TMYCGJ0X2');
</script>

<!-- Baidu analytics -->
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?da649ade2298891886e31922dfc8870f";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<!-- MathJax rendering -->
<script>
MathJax = {
  tex: {
    inlineMath: [ ['$', '$'], ['\\(', '\\)'] ]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
<script
  type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
{% endblock %}

{% block body %}
<script>
  document.body.dataset.theme = "light";
</script>
{% endblock %}

{% block script %}
{{ super() }}

<script>
  function ready(callback) {
    if (document.readyState!='loading') {
      // in case the document is already rendered
      callback();
    } else if (document.addEventListener) {
      // modern browsers
      document.addEventListener('DOMContentLoaded', callback);
    } else document.attachEvent('onreadystatechange', function() {
      // IE <= 8
      if (document.readyState=='complete') {
        callback();
      }
    });
  }

  ready(function() {
    // preload searchindex.js
    let scripts = ["{{ pathto('_static/searchtools.js', 1) }}", "{{ pathto('searchindex.js', 1) }}"];
    scripts.forEach(src => {
      let script = document.createElement("script");
      script.src = src;
      script.type = "text/javascript";
      document.getElementsByTagName("html")[0].appendChild(script);
    });
  });
</script>
{% endblock %}
