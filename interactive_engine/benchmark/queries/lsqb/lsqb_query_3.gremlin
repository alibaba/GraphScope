g.V().match(__.as('person1').both('knows').as('person2'),__.as('person1').both('knows').as('person3'),__.as('person2').both('knows').as('person3'),__.as('person1').out('isLocatedIn').as('city1'),__.as('city1').out('isPartOf').as('country'),__.as('person2').out('isLocatedIn').as('city2'),__.as('city2').out('isPartOf').as('country'),__.as('person3').out('isLocatedIn').as('city3'),__.as('city3').out('isPartOf').as('country')).count()